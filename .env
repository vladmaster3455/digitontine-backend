# ========================================
# DIGITONTINE API - Configuration
# ========================================

# Application Info
APP_NAME=DigiTontine
API_NAME=DigiTontine
API_DESCRIPTION=API Backend pour la gestion de tontines digitales
NODE_ENV=development
PORT=5000
API_VERSION=v1
API_KEY=digitontine_2025_secret_key_change_this_in_production

# Base URL
BASE_URL=http://localhost:5000
FRONTEND_URL=http://localhost:3000

# MongoDB
# MONGODB_URI=mongodb://localhost:27017/digitontine
# Ou MongoDB Atlas (gratuit jusqu'à 512MB):
MONGODB_URI=mongodb+srv://sergesenghor_db_user:passer@digitontine.dq8jcnq.mongodb.net/digitontine?retryWrites=true&w=majority&appName=digitontine

# JWT
JWT_SECRET=digitontine_super_secret_jwt_tres_long_et_complexe_2025_change_me
JWT_REFRESH_SECRET=digitontine_refresh_secret_jwt_encore_plus_long_2025_change_me
JWT_EXPIRE=24h
JWT_REFRESH_EXPIRE=7d

# Bcrypt
BCRYPT_ROUNDS=10

# Email (Nodemailer avec Gmail)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=sergesenghor2342@gmail.com
EMAIL_PASSWORD=blgpvlrjjwkgoobl
EMAIL_FROM="DigiTontine <noreply@digitontine.com>"

# WhatsApp (Twilio - 1000 messages/mois gratuits)
TWILIO_ACCOUNT_SID=votre_twilio_account_sid
TWILIO_AUTH_TOKEN=votre_twilio_auth_token
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# SMS (Twilio - optionnel, payant ~$0.05/SMS)
TWILIO_PHONE_NUMBER=+1234567890
SMS_ENABLED=false

# Firebase Cloud Messaging (100% GRATUIT - Push Notifications)
FIREBASE_PROJECT_ID=digitontine-app
FIREBASE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@digitontine.iam.gserviceaccount.com
FIREBASE_DATABASE_URL=https://digitontine-app.firebaseio.com

# Paiement Mobile - Wave (Sénégal)
WAVE_API_KEY=votre_wave_api_key
WAVE_API_SECRET=votre_wave_api_secret
WAVE_BASE_URL=https://api.wave.com/v1
WAVE_CALLBACK_URL=http://localhost:5000/webhooks/wave

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_API_KEY_MAX=1000

# Pénalités (défaut si non spécifié par tontine)
DEFAULT_PENALTY_RATE=5
DEFAULT_GRACE_PERIOD_DAYS=2

# Logs
LOG_LEVEL=info
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# CORS (React Native Expo)
CORS_ORIGIN=http://localhost:3000,http://localhost:19006,exp://192.168.1.100:19000,exp://localhost:19000

# Admin par défaut (première installation)
DEFAULT_ADMIN_EMAIL=admin@digitontine.com
DEFAULT_ADMIN_PASSWORD=Admin@2025!ChangeMe
DEFAULT_ADMIN_PHONE=+221771234567
DEFAULT_ADMIN_PRENOM=Super
DEFAULT_ADMIN_NOM=Admin
DEFAULT_ADMIN_CARTE_IDENTITE=SN1234567890

# Sécurité
ALLOWED_API_KEYS=digitontine_2025_secret_key_change_this_in_production,digitontine_mobile_app_key_2025
SESSION_SECRET=digitontine_session_secret_change_me_2025

# Uploads (pour photos profil, documents, etc)
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,application/pdf

# Rappels automatiques
REMINDER_J_MINUS_3=true
REMINDER_J=true
REMINDER_J_PLUS_2=true
REMINDER_HOUR=09:00

# Timezone
TZ=Africa/Dakar

# Backup
BACKUP_ENABLED=true
BACKUP_HOUR=03:00
BACKUP_DIR=./backups

# Maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=DigiTontine est en maintenance. Retour prévu à 10h00.

#NOUVEAU : Configuration Cloudinary
CLOUDINARY_CLOUD_NAME=djfmcs4uj
CLOUDINARY_API_KEY=422339844194553
CLOUDINARY_API_SECRET=YD_PS4g5GfPmNURe9_0bfGxtvZU